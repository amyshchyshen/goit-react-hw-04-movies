{"version":3,"sources":["components/MovieDetails/MovieDetails.module.css","pages/MovieDetailsPage/MovieDetailsPage.module.css","components/MovieDetails/MovieDetails.js","pages/MovieDetailsPage/MovieDetailsPage.js"],"names":["module","exports","MovieDetails","title","imageUrl","userScore","overview","genres","className","styles","wrapper","src","alt","movieImg","innerWrapper","userScorePercentage","genresList","map","genre","key","id","name","MovieCastPage","lazy","MovieReviewsPage","activeStyle","color","createMovieObject","movie","original_title","poster_path","vote_average","MovieDetailsPage","state","prevLocation","onGoBack","props","history","push","this","match","params","movieID","location","moviesAPI","then","data","setState","from","catch","err","Error","container","type","onClick","goBackBtn","goBackBtnIcon","detailsNav","to","url","detailsNavItem","fallback","Loader","path","component","Component"],"mappings":"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","file":"static/js/movie-details-page.3268d5b5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MovieDetails_wrapper__vCFko\",\"innerWrapper\":\"MovieDetails_innerWrapper__2vgsd\",\"movieImg\":\"MovieDetails_movieImg__R1SoK\",\"userScorePercentage\":\"MovieDetails_userScorePercentage__QXX8z\",\"genresList\":\"MovieDetails_genresList__2VUKU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__3Bn9D\",\"goBackBtn\":\"MovieDetailsPage_goBackBtn__3l6bu\",\"goBackBtnIcon\":\"MovieDetailsPage_goBackBtnIcon__2vCWM\",\"detailsNav\":\"MovieDetailsPage_detailsNav__2bR89\",\"detailsNavItem\":\"MovieDetailsPage_detailsNavItem__Wl1bI\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = ({ title, imageUrl, userScore, overview, genres }) => {\n  return (\n    <>\n      <h2>{title}</h2>\n      <div className={styles.wrapper}>\n        <img src={imageUrl} alt={title} className={styles.movieImg} />\n        <div className={styles.innerWrapper}>\n          <p>\n            User score:{' '}\n            <span className={styles.userScorePercentage}>{userScore}</span>\n          </p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <ul className={styles.genresList}>\n            {genres.map(genre => (\n              <li key={genre.id}>{genre.name}</li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  );\n};\n\nMovieDetails.propTypes = {\n  title: PropTypes.string.isRequired,\n  imageUrl: PropTypes.string.isRequired,\n  userScore: PropTypes.string.isRequired,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default MovieDetails;\n","import React, { Component, lazy, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, NavLink } from 'react-router-dom';\nimport * as moviesAPI from '../../services/moviesAPI';\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\nimport Loader from '../../components/Loader/Loader';\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieCastPage = lazy(() =>\n  import(\n    '../MovieCastPage/MovieCastPage' /* webpackChunkName: \"movie-cast-page\" */\n  ),\n);\n\nconst MovieReviewsPage = lazy(() =>\n  import(\n    '../MovieReviewsPage/MovieReviewsPage' /* webpackChunkName: \"movie-reviews-page\" */\n  ),\n);\n\nconst getIdFromProps = props => props.match.params.movieID;\n\nconst activeStyle = {\n  color: '#f5963d',\n};\n\nconst createMovieObject = movie => {\n  return {\n    title: movie.original_title,\n    imageUrl: `https://image.tmdb.org/t/p/w300/${movie.poster_path}`,\n    userScore: `${movie.vote_average * 10}%`,\n    overview: movie.overview,\n    genres: movie.genres,\n  };\n};\n\nclass MovieDetailsPage extends Component {\n  static propTypes = {\n    match: PropTypes.shape({\n      url: PropTypes.string,\n      path: PropTypes.string,\n      params: PropTypes.shape({\n        movieID: PropTypes.string,\n      }),\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }).isRequired,\n    location: PropTypes.shape({\n      state: PropTypes.shape({\n        from: PropTypes.shape({}),\n      }),\n    }).isRequired,\n  };\n\n  state = {\n    movie: null,\n    prevLocation: '',\n  };\n\n  componentDidMount() {\n    const id = getIdFromProps(this.props);\n    const { location } = this.props;\n\n    if (location.state) {\n      return moviesAPI\n        .getMovieById(id)\n        .then(({ data }) => this.setState({ movie: createMovieObject(data) }))\n        .then(this.setState({ prevLocation: location.state.from }))\n        .catch(err => {\n          throw new Error(err);\n        });\n    }\n\n    return moviesAPI\n      .getMovieById(id)\n      .then(({ data }) => this.setState({ movie: createMovieObject(data) }))\n      .catch(err => {\n        throw new Error(err);\n      });\n  }\n\n  onGoBack = () => {\n    const { prevLocation } = this.state;\n    const { history } = this.props;\n\n    history.push(prevLocation);\n  };\n\n  render() {\n    const { movie } = this.state;\n    const { match } = this.props;\n\n    return (\n      <>\n        {movie && (\n          <>\n            <div className={styles.container}>\n              <button\n                type=\"button\"\n                onClick={this.onGoBack}\n                className={styles.goBackBtn}\n              >\n                <span className={styles.goBackBtnIcon}>\n                  <i className=\"fas fa-long-arrow-alt-left\" />\n                </span>\n                Go back\n              </button>\n              <MovieDetails\n                title={movie.title}\n                imageUrl={movie.imageUrl}\n                userScore={movie.userScore}\n                overview={movie.overview}\n                genres={movie.genres}\n              />\n            </div>\n            <ul className={styles.detailsNav}>\n              <li>\n                <NavLink\n                  to={`${match.url}/cast`}\n                  activeStyle={activeStyle}\n                  className={styles.detailsNavItem}\n                >\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink\n                  to={`${match.url}/reviews`}\n                  activeStyle={activeStyle}\n                  className={styles.detailsNavItem}\n                >\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n            <Suspense fallback={<Loader />}>\n              <Route path={`${match.path}/cast`} component={MovieCastPage} />\n              <Route\n                path={`${match.path}/reviews`}\n                component={MovieReviewsPage}\n              />\n            </Suspense>\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}